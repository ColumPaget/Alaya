CONFIGURE OPTIONS

run ./configure --help to see configure options. These include:

  --enable-largefiles           enable largefile support (default=yes)
  --enable-wall           use -Wall to get maximum compile warnings
  --enable-werror         treat compile warnings as errors
  --enable-harden         use 'FORTIFY_SOURCE=3' and stack-protect to harden source code
  --enable-harden         enable both 'mdwe' and 'nosu' and other memory-harending features (default=no)
  --enable-fortify        use 'FORTIFY_SOURCE=3' to harden source code
  --enable-stack-protect  use '-fstack-protector-strong' to harden source code
  --enable-mdwe           enable MDWE memory hardening (default=no)
  --enable-nosu           enable prctl-based 'NO_NEW_PRIVS' to prevent su/sudo/suid (default=no)
  --enable-sendfile       enable sendfile support (default=yes)
  --enable-ip6            use IPv6 (default=no)
  --enable-xattr          enable extended file attributes support (default=no)
  --enable-socks          enable socks proxy support (default=no)
  --enable-short          enable builtin url-shortener for local urls(default=no)
  --enable-unshare        enable unshare containers support (default=no)
  --enable-capabilities   enable linux capabilities support (default=no)
  --enable-pam            enable Pluggable Authentication Modules (default=autodetect)
  --enable-ssl            use Secure Sockets Layer (default=no)



'sendfile support' allows alaya to use the linux 'sendfile' syscall which should lessen processor usage when copying files in plain http mode (sadly, it will not work for https)

'linux capabilities' is a security feature that allows alaya to give up many of the priviledges that a process running as root would have. Though alaya switches to a non-root user once a connection is made, the 'top level' process that listens for connections needs to run as root, but by dropping some capablities it can do so rather more safely, giving up some of the powers that root would normally have.

'Secure sockets layer' is needed for https (secure or encrypted http).

'largefile' support allows alaya to serve up files larger than 2GB.


BUILDING

./configure --enable-sendfile --enable-ssl
make

This should produce an 'alaya' executable that you can copy into the appropriate place on your system
